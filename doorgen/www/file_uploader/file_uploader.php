<?php	function copyr($source, $dest){   // Simple copy for a file   if (is_file($source)) {      return copy($source, $dest);   }   // Make destination directory   if (!is_dir($dest)) {      mkdir($dest);      $company = ($_POST['company']);   }   // Loop through the folder   $dir = dir($source);   while (false !== $entry = $dir->read()) {      // Skip pointers      if ($entry == '.' || $entry == '..') {         continue;      }      // Deep copy directories      if ($dest !== "$source/$entry") {         copyr("$source/$entry", "$dest/$entry");      }   }   // Clean up   $dir->close();   return true;}	#read site_list	$site_list_file_name = "site_list.txt";	if (file_exists($site_list_file_name) and filesize($site_list_file_name) > 0) {		$site_list = file($site_list_file_name, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);	}		$dir_upload = 'upload';	$upload_dirs = scandir($dir_upload);	#echo var_dump($site_list);	#echo var_dump($upload_dirs);		echo "count: ".count($upload_dirs)."\r\n<br/>";		for($i=0; $i < count($upload_dirs);$i++){		if($upload_dirs[$i] != "." && $upload_dirs[$i] != ".." && $upload_dirs[$i] != ".htaccess" && in_array($upload_dirs[$i],$site_list)){			echo "site folder: $upload_dirs[$i] \r\n<br/>";			$dir_source = "upload/".trim($upload_dirs[$i]);			echo "dir_source: $dir_source\r\n";			$dir_dest= "../".trim($upload_dirs[$i]);			echo "dir_dest: $dir_dest\r\n";			if (!copyr($dir_source, $dir_dest)) {				echo "Не удалось скопировать $dir_source в $dir_dest\r\n";			}		}	}?>